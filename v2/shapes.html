<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3&nbsp;Terms and Shapes</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Macros and Languages in Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="prelim.html" class="tocviewlink" data-pltdoc="x">Preliminaries</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="intro.html" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Terms and Shapes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="basic-shapes.html" class="tocviewlink" data-pltdoc="x">Basic Shapes</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="compound-shapes.html" class="tocviewlink" data-pltdoc="x">Compound Shapes</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="enum-shapes.html" class="tocviewlink" data-pltdoc="x">Enumerated Shapes</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="multi-shapes.html" class="tocviewlink" data-pltdoc="x">Multi-<wbr></wbr>Term Shapes</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Terms and Shapes</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="#%28part._shapes-terms%29" class="tocviewlink" data-pltdoc="x">Terms</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="#%28part._shapes-interps%29" class="tocviewlink" data-pltdoc="x">Interpretations of Terms</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="#%28part._shapes-shapes%29" class="tocviewlink" data-pltdoc="x">Shapes</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._shapes-terms%29" class="tocsubseclink" data-pltdoc="x">Terms</a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._shapes-interps%29" class="tocsubseclink" data-pltdoc="x">Interpretations of Terms</a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._shapes-shapes%29" class="tocsubseclink" data-pltdoc="x">Shapes</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="intro.html" title="backward to &quot;2 Introduction&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Macros and Languages in Racket&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="basic-shapes.html" title="forward to &quot;4 Basic Shapes&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>3<tt>&nbsp;</tt><a name="(part._shapes)"></a>Terms and Shapes</h3><p>This section introduces terminology for talking about the pieces of Racket
programs and their interpretation.</p><h4>3.1<tt>&nbsp;</tt><a name="(part._shapes-terms)"></a>Terms</h4><p>Consider the following Racket code:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._pair~3f%29%29" class="RktValLink" data-pltdoc="x">pair?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._car%29%29" class="RktValLink" data-pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cdr%29%29" class="RktValLink" data-pltdoc="x">cdr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._null~3f%29%29" class="RktValLink" data-pltdoc="x">null?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara">The code is a tree of terms. A <a name="(tech._term)"></a><span style="font-style: italic">term</span> is, roughly, an atom or a
parenthesized group of terms. So all of the following are terms:
</div><div class="SIntrapara"><ul><li><p><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>, <span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span>, <span class="RktSym">xs</span>, <span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._pair~3f%29%29" class="RktValLink" data-pltdoc="x">pair?</a></span> &#8212;<wbr></wbr> More
specifically, these are <span class="emph">identifier terms</span>.</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._pair~3f%29%29" class="RktValLink" data-pltdoc="x">pair?</a></span><span class="stt"> </span><span class="RktSym">xs</span><span class="RktPn">)</span>, <span class="RktPn">(</span><span class="RktSym">f</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._car%29%29" class="RktValLink" data-pltdoc="x">car</a></span><span class="stt"> </span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="RktPn">)</span>, <span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._null~3f%29%29" class="RktValLink" data-pltdoc="x">null?</a></span><span class="stt"> </span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span> &#8212;<wbr></wbr>
More specifically, these are <span class="emph">list terms</span>.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span> &#8212;<wbr></wbr> This is also a list term, because it is read as
<span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p></li></ul></div></p><p><div class="SIntrapara">The following is not a term:
</div><div class="SIntrapara"><ul><li><p><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="stt"> </span><span class="RktSym">f</span> &#8212;<wbr></wbr> That&rsquo;s two terms.</p></li></ul></div></p><p><div class="SIntrapara">The following are also terms that occur in the program above, even though it
might not be immediately apparent:
</div><div class="SIntrapara"><ul><li><p><span class="RktPn">(</span><span class="RktSym">f</span><span class="stt"> </span><span class="RktSym">xs</span><span class="RktPn">)</span> &#8212;<wbr></wbr> Because <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="stt"> </span><span class="RktSym">f</span><span class="stt"> </span><span class="RktSym">xs</span><span class="RktPn">)</span> is the same as
<span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="stt"> </span><span class="RktPn">.</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">f</span><span class="stt"> </span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="RktPn">)</span>, which is also the same as <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="stt"> </span><span class="RktPn">.</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">f</span><span class="stt"> </span><span class="RktPn">.</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">xs</span><span class="stt"> </span><span class="RktPn">.</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p></li><li><p><span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span> &#8212;<wbr></wbr> Because it&rsquo;s a subterm of <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span>, which is the
same as <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p></li></ul></div></p><p><div class="SIntrapara">Here are some other terms that don&rsquo;t appear in the program above:
</div><div class="SIntrapara"><ul><li><p><span class="RktVal">#t</span>, <span class="RktVal">5</span>, <span class="RktVal">#e1e3</span>,
<span class="RktVal">"racket-lang.org"</span>, <span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="stt"> </span><span class="RktVal">2</span><span class="stt"> </span><span class="RktVal">3</span><span class="RktVal">)</span>, <span class="RktVal">#s</span><span class="RktVal">(</span><span class="RktVal">point</span><span class="stt"> </span><span class="RktVal">3</span><span class="stt"> </span><span class="RktVal">4</span><span class="RktVal">)</span>,
<span class="RktPn">#:unless</span>, <span class="RktVal">#rx"[01]+"</span> &#8212;<wbr></wbr> A <span class="emph">boolean term</span>, two
<span class="emph">number terms</span>, a <span class="emph">string term</span>, and so on.</p></li></ul></div></p><p>Racket represents terms using <span class="emph">syntax objects</span>, a kind of value.</p><p>It will be helpful to keep the two levels separate (term vs value
representation), but that&rsquo;s hard, because we don&rsquo;t have enough distinct terms
(err, I mean words) to name everything. In some cases, the context should either
make the usage clear or make the distinction moot. In some cases, I&rsquo;ll
disambiguate by saying, for example, <span class="emph">identifier term</span> vs <span class="emph">identifier
value</span>.</p><h4>3.2<tt>&nbsp;</tt><a name="(part._shapes-interps)"></a>Interpretations of Terms</h4><p>What is an expression?</p><p>The concept of &ldquo;expression&rdquo; doesn&rsquo;t simply refer to some subset of
terms. <span class="emph">Any</span> term can be an expression, given the right context. And a term
might be an expression when used in one place but not when used in another. Is
the identifier <span class="RktSym">f</span> an expression? In the example code above, the first
occurrence of <span class="RktSym">f</span> is not an expression, but the second and third
occurrences are expressions. It depends on context &#8212;<wbr></wbr> that is, where the term
appears in the code. The term <span class="RktSym">f</span> isn&rsquo;t an expression when it occurs in
the function definition&rsquo;s formal parameter list, but it is an expression when it
occurs in operator position of an application. What is an &ldquo;application&rdquo;? Well,
it&rsquo;s a kind of expression &#8212;<wbr></wbr> and so we have to keep looking outward to figure
out what&rsquo;s going on.</p><p>Here&rsquo;s the reasoning for the second and third occurrences of <span class="RktSym">f</span> being
expressions: The example is a use of <span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>, and the rule for
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span> is that the body is an expression (that&rsquo;s an oversimplification,
actually). The body is a <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> expression, and a <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>
expression&rsquo;s arguments are &ldquo;clauses&rdquo;, which are not expressions themselves,
but consist of two expressions grouped together (again, oversimplified). The
second expression of the first <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> clause is a function call to
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span>, so its first argument is an expression. And that expression is a
function call (because <span class="RktSym">f</span> is bound as a variable), so that <span class="RktSym">f</span> is
an expression. And that&rsquo;s how we know, starting from the top.</p><p>Of course, if we wrap <span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span> around the whole thing, then all of that
reasoning is invalidated, because the argument of a <span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span> expression is
not interpreted as a definition or expression.</p><p><div class="SIntrapara">So &ldquo;expression&rdquo; doesn&rsquo;t refer to a subset of terms (decidable or not). But
that doesn&rsquo;t mean that it isn&rsquo;t an important concept. Rather, &ldquo;expression&rdquo;
describes an <span class="emph">interpretation</span> or <span class="emph">intended usage</span> of a term. Here are
names for the main interpretations that are handled by Racket&rsquo;s macro expander:
</div><div class="SIntrapara"><ul><li><p><span class="emph">expression</span> or <span class="emph">expression term</span> &#8212;<wbr></wbr> Used in an expression
position, like the test of an <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span> or an argument to a function.</p></li><li><p><span class="emph">body term</span> &#8212;<wbr></wbr> Used as one element of a <span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span> body,
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span> body, etc. A &ldquo;body&rdquo; is also called an &ldquo;internal definition
context&rdquo;.</p></li><li><p><span class="emph">module-level term</span> &#8212;<wbr></wbr> Used as one element of a <span class="RktSym"><a href="http://docs.racket-lang.org/reference/module.html#%28form._%28%28quote._~23~25kernel%29._module%29%29" class="RktStxLink" data-pltdoc="x">module</a></span> body
or submodule body.</p></li><li><p><span class="emph">top-level term</span> &#8212;<wbr></wbr> Used at the top level, for example at the REPL
or in a call to <span class="RktSym"><a href="http://docs.racket-lang.org/reference/eval.html#%28def._%28%28quote._~23~25kernel%29._eval%29%29" class="RktValLink" data-pltdoc="x">eval</a></span>.</p></li></ul></div></p><p>The word <a name="(tech._form)"></a><span style="font-style: italic">form</span> is used to identify a variant of expression,
module-level term, etc. The concept of &ldquo;variant&rdquo; usually coincides with the
leading identifier of the term. For example: <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span> is an expression form;
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._provide%29%29" class="RktStxLink" data-pltdoc="x">provide</a></span> is a module-level form but not a top-level form, but
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span> is allowed both as a module-level form and as a top-level form.</p><p>The word <span class="emph">form</span> can also refer to the entire term, as in &ldquo;<span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><span class="RktSym">racket/list</span><span class="RktPn">)</span> is a module-level form&rdquo;.</p><p>The word <span class="emph">definition</span> refers to a subset of the body forms, roughly. In
fact, we could say that a body term is either an expression or a definition.</p><h4>3.3<tt>&nbsp;</tt><a name="(part._shapes-shapes)"></a>Shapes</h4><p>When we design a macro, the intended interpretation of an argument can be as
important or more important than the set of terms allowed for that argument. To
usefully describe macros and the ways they treat their arguments, we need to
talk about both of these aspects. We&rsquo;ll do that with a semi-formal description
language of <span class="emph">shapes</span>.</p><p><div class="SIntrapara">A shape has two aspects:
</div><div class="SIntrapara"><ul><li><p>the <span class="emph">set of terms</span> belonging to the shape, and</p></li><li><p>the <span class="emph">interpretation</span> or intended usage of the terms of that shape</p></li></ul></div><div class="SIntrapara">Different basic shapes place different degrees of emphasis on these two aspects.</div></p><p>A shape is not the same thing as a syntax pattern, although there is generally a
correspondence between shapes and patterns. In particular, we&rsquo;ll use implement
basic shapes using <span class="emph">syntax classes</span>. A syntax class check terms for
membership in the shape&rsquo;s set of terms and it can compute attributes related to
the interpretation of the shape. But a syntax class cannot always check every
aspect of a shape&rsquo;s interpretation; for example, a syntax class cannot verify
that we use a term in an expression position in the code that we generate. That
obligation stays with the macro writer.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="intro.html" title="backward to &quot;2 Introduction&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Macros and Languages in Racket&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="basic-shapes.html" title="forward to &quot;4 Basic Shapes&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>